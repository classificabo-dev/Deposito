import pandas as pd
import matplotlib.pyplot as plt
import numpy as np

# Dados fornecidos
data = {
    'Periodo': ['1 semana', '1 mes', '3 meses', '6 meses', '1 ano', '3 anos', '5 anos'],
    'Variacao(%)': [-0.39, -0.46, -0.43, -0.18, -0.25, -2.21, -11.77],
    'PcoInicial': [-10.21, -11.83, -11.14, -4.99, -6.79, -39.18, -77.43],
    'Maxima': [3.82, 3.89, 3.86, 3.61, 3.68, 5.64, 15.2],
    'Minima': [3.83, 4, 4, 4.41, 4.41, 7.71, 17.18],
    'VolMedio': [428720, 475390, 646312, 639569, 660588, 901324, 787182],
    'PcoMedio': [3.7105, 3.8323, 3.6587, 3.8003, 3.5773, 4.425, 6.0444]
}

# Criar DataFrame
df = pd.DataFrame(data)

# Configurar o estilo dos grÃ¡ficos
plt.style.use('default')
fig, axes = plt.subplots(2, 4, figsize=(20, 10))
fig.suptitle('Analise de Dados por Período', fontsize=16, fontweight='bold')




# Gráfico 1: Variação (%)
axes[0, 0].bar(df['Periodo'], df['Variacao(%)'], color='red', alpha=0.7)
axes[0, 0].set_title(' Variacao (%)')
axes[0, 0].set_ylabel('Variação (%)')
axes[0, 0].tick_params(axis='x', rotation=45)

# Gráfico 2: PreÃ§o Inicial
axes[0, 1].bar(df['Periodo'], df['PcoInicial'], color='blue', alpha=0.7)
axes[0, 1].set_title('Preço Inicial')
axes[0, 1].set_ylabel('Preço Inicial')
axes[0, 1].tick_params(axis='x', rotation=45)

# Gráfico 3: Máxima
axes[0, 2].bar(df['Periodo'], df['Maxima'], color='green', alpha=0.7)
axes[0, 2].set_title('Máxima')
axes[0, 2].set_ylabel('Máxima')
axes[0, 2].tick_params(axis='x', rotation=45)

# GrÃ¡fico 4: Mí­nima
axes[0, 3].bar(df['Periodo'], df['Minima'], color='orange', alpha=0.7)
axes[0, 3].set_title('Mínima')
axes[0, 3].set_ylabel('Mínima')
axes[0, 3].tick_params(axis='x', rotation=45)

# GrÃ¡fico 5: Volume Médio
axes[1, 0].bar(df['Periodo'], df['VolMedio'], color='purple', alpha=0.7)
axes[1, 0].set_title('Volume Médio')
axes[1, 0].set_ylabel('Volume Médio')
axes[1, 0].tick_params(axis='x', rotation=45)

# GrÃ¡fico 6: Preço Médio
axes[1, 1].bar(df['Periodo'], df['PcoMedio'], color='brown', alpha=0.7)
axes[1, 1].set_title('Preço Médio')
axes[1, 1].set_ylabel('Preço Médio')
axes[1, 1].tick_params(axis='x', rotation=45)

# Remover eixos vazios
axes[1, 2].axis('off')
axes[1, 3].axis('off')

plt.tight_layout()
plt.show()

# GrÃ¡fico individual para Volume MÃ©dio (devido Ã  grande diferenÃ§a de escala)
plt.figure(figsize=(12, 6))
plt.bar(df['Periodo'], df['VolMedio'], color='purple', alpha=0.7)
plt.title('Volume Médio por Período', fontsize=14, fontweight='bold')
plt.ylabel('Volume Médio')
plt.xlabel('Período')
plt.xticks(rotation=45)
plt.grid(axis='y', alpha=0.3)
plt.tight_layout()
plt.show()

# GrÃ¡fico comparativo das principais mÃ©tricas
fig, ax = plt.subplots(figsize=(14, 8))

x = np.arange(len(df['Periodo']))
width = 0.15

ax.bar(x - width*1.5, df['Maxima'], width, label='Maxima', alpha=0.8)
ax.bar(x - width/2, df['Minima'], width, label='Mínima', alpha=0.8)
ax.bar(x + width/2, df['PcoMedio'], width, label='Preço Médio', alpha=0.8)

ax.set_xlabel('Período')
ax.set_ylabel('Valores')
ax.set_title('Comparação: Máxima, Mínima e Preço Médio por Período')
ax.set_xticks(x)
ax.set_xticklabels(df['Periodo'])
ax.legend()
ax.grid(axis='y', alpha=0.3)

plt.xticks(rotation=45)
plt.tight_layout()
plt.show()

# Exibir DataFrame
print("DataFrame com os dados:")
print(df)
